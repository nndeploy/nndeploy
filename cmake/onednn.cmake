
include(ExternalProject)

if (ENABLE_NNDEPLOY_DEVICE_X86_ONEDNN STREQUAL "OFF")
elseif (ENABLE_NNDEPLOY_DEVICE_X86_ONEDNN STREQUAL "ON")
else()
  include_directories(${ENABLE_NNDEPLOY_DEVICE_X86_ONEDNN}/include)
  set(LIB_PATH ${ENABLE_NNDEPLOY_DEVICE_X86_ONEDNN}/${NNDEPLOY_THIRD_PARTY_LIBRARY_PATH_SUFFIX})
  set(NNDEPLOY_DEVICE_X86_ONEDNN_LIBS "dnnl") 
  foreach(LIB ${NNDEPLOY_DEVICE_X86_ONEDNN_LIBS})
    set(LIB_NAME ${NNDEPLOY_LIB_PREFIX}${LIB}${NNDEPLOY_LIB_SUFFIX})
    set(FULL_LIB_NAME ${LIB_PATH}/${LIB_NAME})
    set(NNDEPLOY_THIRD_PARTY_LIBRARY ${NNDEPLOY_THIRD_PARTY_LIBRARY} ${FULL_LIB_NAME})    
  endforeach()

  if(SYSTEM.Windows)
    set(BIN_PATH ${ENABLE_NNDEPLOY_DEVICE_X86_ONEDNN}/bin)
    link_directories(${BIN_PATH})
  endif()

  # install(DIRECTORY ${ENABLE_NNDEPLOY_DEVICE_X86_ONEDNN} DESTINATION ${NNDEPLOY_INSTALL_THIRD_PARTY_PATH}) 
endif()